var u=Object.defineProperty;var l=(i,e,t)=>e in i?u(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var a=(i,e,t)=>(l(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();class p{constructor(e,t){a(this,"previousOperandTextElement");a(this,"currentOperandTextElement");a(this,"currentOperand","");a(this,"previousOperand","");a(this,"operation");this.previousOperandTextElement=e,this.currentOperandTextElement=t,this.clear()}clear(){this.currentOperand="",this.previousOperand="",this.operation=void 0}delete(){this.currentOperand=this.currentOperand.toString().slice(0,-1)}appendNumber(e){e==="."&&this.currentOperand.includes(".")||(this.currentOperand=this.currentOperand.toString()+e.toString())}chooseOperation(e){this.currentOperand!==""&&(this.previousOperand!==""&&this.compute(),this.operation=e,this.previousOperand=this.currentOperand,this.currentOperand="")}compute(){let e;const t=parseFloat(this.previousOperand),o=parseFloat(this.currentOperand);if(!(isNaN(t)||isNaN(o))){switch(this.operation){case"+":e=t+o;break;case"-":e=t-o;break;case"*":e=t*o;break;case"รท":e=t/o;break;default:return}this.currentOperand=e.toString(),this.operation=void 0,this.previousOperand=""}}getDisplayNumber(e){const t=e.toString(),o=parseFloat(t.split(".")[0]),r=t.split(".")[1];let n;return isNaN(o)?n="":n=o.toLocaleString("fr",{maximumFractionDigits:0}),r!=null?`${n}.${r}`:n}updateDisplay(){this.currentOperandTextElement.innerText=this.getDisplayNumber(this.currentOperand),this.operation!=null?this.previousOperandTextElement.innerText=`${this.getDisplayNumber(this.previousOperand)} ${this.operation}`:this.previousOperandTextElement.innerText=""}}const d=document.querySelectorAll("[data-number]"),h=document.querySelectorAll("[data-operation]"),m=document.querySelector("[data-equals]"),O=document.querySelector("[data-delete]"),f=document.querySelector("[data-all-clear]"),y=document.querySelector("[data-previous-operand]"),g=document.querySelector("[data-current-operand]"),s=new p(y,g);d.forEach(i=>{i.addEventListener("click",e=>{const t=e.target;s.appendNumber(t.innerText),s.updateDisplay()})});h.forEach(i=>{i.addEventListener("click",e=>{const t=e.target;s.chooseOperation(t.innerText),s.updateDisplay()})});m.addEventListener("click",()=>{s.compute(),s.updateDisplay()});f.addEventListener("click",()=>{s.clear(),s.updateDisplay()});O.addEventListener("click",()=>{s.delete(),s.updateDisplay()});
